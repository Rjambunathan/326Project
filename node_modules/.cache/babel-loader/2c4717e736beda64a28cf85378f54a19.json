{"remainingRequest":"/Users/andrewsmith/Computer Science/School/CompSci326/326Project/node_modules/babel-loader/lib/index.js!/Users/andrewsmith/Computer Science/School/CompSci326/326Project/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/andrewsmith/Computer Science/School/CompSci326/326Project/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/andrewsmith/Computer Science/School/CompSci326/326Project/src/components/Enrollment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/andrewsmith/Computer Science/School/CompSci326/326Project/src/components/Enrollment.vue","mtime":1575525281828},{"path":"/Users/andrewsmith/Computer Science/School/CompSci326/326Project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andrewsmith/Computer Science/School/CompSci326/326Project/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/andrewsmith/Computer Science/School/CompSci326/326Project/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/andrewsmith/Computer Science/School/CompSci326/326Project/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwovLwovLwovLwovLwovLwovLwovLwoKLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Vucm9sbG1lbnQnCn07IC8vIFByZWZlciBjYW1lcmEgcmVzb2x1dGlvbiBuZWFyZXN0IHRvIDEyODB4NzIwLgovL2ltcG9ydCAqIGFzIGZhY2VhcGkgZnJvbSAiLi4vYXNzZXRzL2ZhY2UtYXBpLm1pbiI7Ci8vIGltcGxlbWVudHMgbm9kZWpzIHdyYXBwZXJzIGZvciBIVE1MQ2FudmFzRWxlbWVudCwgSFRNTEltYWdlRWxlbWVudCwgSW1hZ2VEYXRhCi8vaW1wb3J0ICogYXMgY2FudmFzIGZyb20gJ2NhbnZhcyc7CgppbXBvcnQgKiBhcyBmYWNlYXBpIGZyb20gJ2ZhY2UtYXBpLmpzJzsgLy8gcGF0Y2ggbm9kZWpzIGVudmlyb25tZW50LCB3ZSBuZWVkIHRvIHByb3ZpZGUgYW4gaW1wbGVtZW50YXRpb24gb2YKLy8gSFRNTENhbnZhc0VsZW1lbnQgYW5kIEhUTUxJbWFnZUVsZW1lbnQsIGFkZGl0aW9uYWxseSBhbiBpbXBsZW1lbnRhdGlvbgovLyBvZiBJbWFnZURhdGEgaXMgcmVxdWlyZWQsIGluIGNhc2UgeW91IHdhbnQgdG8gdXNlIHRoZSBNVENOTgovL2NvbnN0IHsgQ2FudmFzLCBJbWFnZSwgSW1hZ2VEYXRhIH0gPSBjYW52YXMKLy9mYWNlYXBpLmVudi5tb25rZXlQYXRjaCh7IENhbnZhcywgSW1hZ2UsIEltYWdlRGF0YSB9KQoKUHJvbWlzZS5hbGwoW2ZhY2VhcGkubmV0cy50aW55RmFjZURldGVjdG9yLmxvYWRGcm9tVXJpKCcvbW9kZWxzJyksIGZhY2VhcGkubmV0cy5mYWNlTGFuZG1hcms2OE5ldC5sb2FkRnJvbVVyaSgnL21vZGVscycpLCBmYWNlYXBpLm5ldHMuZmFjZVJlY29nbml0aW9uTmV0LmxvYWRGcm9tVXJpKCcvbW9kZWxzJyksIGZhY2VhcGkubmV0cy5mYWNlRXhwcmVzc2lvbk5ldC5sb2FkRnJvbVVyaSgnL21vZGVscycpXSkudGhlbihzdGFydExpdmVWaWRlbyk7CgpmdW5jdGlvbiBzdGFydExpdmVWaWRlbygpIHsKICAvLyBQcmVmZXIgY2FtZXJhIHJlc29sdXRpb24gbmVhcmVzdCB0byAxMjgweDcyMC4KICB2YXIgdmlkZW87CiAgdmFyIGNvbnN0cmFpbnRzID0gewogICAgYXVkaW86IGZhbHNlLAogICAgdmlkZW86IHsKICAgICAgd2lkdGg6IDEyODAsCiAgICAgIGhlaWdodDogNzIwCiAgICB9CiAgfTsKICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cykudGhlbihmdW5jdGlvbiAobWVkaWFTdHJlYW0pIHsKICAgIHZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigndmlkZW8nKTsKICAgIHZpZGVvLnNyY09iamVjdCA9IG1lZGlhU3RyZWFtOwoKICAgIHZpZGVvLm9ubG9hZGVkbWV0YWRhdGEgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZpZGVvLnBsYXkoKTsKICAgIH07CgogICAgdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGNhbnZhcyA9IGZhY2VhcGkuY3JlYXRlQ2FudmFzRnJvbU1lZGlhKHZpZGVvKTsKICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQoY2FudmFzKTsgLy9ORUVEIFRPIEZJR1VSRSBPVVQgRFlOQU1JQyBIRUlHSFQgQU5EIFdJRFRICgogICAgICB2YXIgZGlzcGxheVNpemUgPSB7CiAgICAgICAgd2lkdGg6ICIxMjgwIiwKICAgICAgICBoZWlnaHQ6ICI3MjAiCiAgICAgIH07CiAgICAgIGZhY2VhcGkubWF0Y2hEaW1lbnNpb25zKGNhbnZhcywgZGlzcGxheVNpemUpOwogICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBkZXRlY3Rpb25zLCByZXNpemVkRGV0ZWN0aW9uczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmFzeW5jKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLmF3cmFwKGZhY2VhcGkuZGV0ZWN0QWxsRmFjZXModmlkZW8sIG5ldyBmYWNlYXBpLlRpbnlGYWNlRGV0ZWN0b3JPcHRpb25zKCkpLndpdGhGYWNlTGFuZG1hcmtzKCkud2l0aEZhY2VFeHByZXNzaW9ucygpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgZGV0ZWN0aW9ucyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZXNpemVkRGV0ZWN0aW9ucyA9IGZhY2VhcGkucmVzaXplUmVzdWx0cyhkZXRlY3Rpb25zLCBkaXNwbGF5U2l6ZSk7CiAgICAgICAgICAgICAgICBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKS5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTsKICAgICAgICAgICAgICAgIGZhY2VhcGkuZHJhdy5kcmF3RGV0ZWN0aW9ucyhjYW52YXMsIHJlc2l6ZWREZXRlY3Rpb25zKTsKICAgICAgICAgICAgICAgIGZhY2VhcGkuZHJhdy5kcmF3RmFjZUxhbmRtYXJrcyhjYW52YXMsIHJlc2l6ZWREZXRlY3Rpb25zKTsKICAgICAgICAgICAgICAgIGZhY2VhcGkuZHJhdy5kcmF3RmFjZUV4cHJlc3Npb25zKGNhbnZhcywgcmVzaXplZERldGVjdGlvbnMpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwgMzAwKTsKICAgIH0pOwogIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgIGNvbnNvbGUubG9nKGVyci5uYW1lICsgIjogIiArIGVyci5tZXNzYWdlKTsKICB9KTsKfQ=="},{"version":3,"sources":["Enrollment.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAQA;AACA,eAAA;AACA,EAAA,IAAA,EAAA;AADA,CAAA,C,CAGA;AACA;AAEA;AACA;;AAEA,OAAA,KAAA,OAAA,MAAA,aAAA,C,CAEA;AACA;AACA;AACA;AACA;;AAEA,OAAA,CAAA,GAAA,CAAA,CACA,OAAA,CAAA,IAAA,CAAA,gBAAA,CAAA,WAAA,CAAA,SAAA,CADA,EAEA,OAAA,CAAA,IAAA,CAAA,iBAAA,CAAA,WAAA,CAAA,SAAA,CAFA,EAGA,OAAA,CAAA,IAAA,CAAA,kBAAA,CAAA,WAAA,CAAA,SAAA,CAHA,EAIA,OAAA,CAAA,IAAA,CAAA,iBAAA,CAAA,WAAA,CAAA,SAAA,CAJA,CAAA,EAKA,IALA,CAKA,cALA;;AAQA,SAAA,cAAA,GAAA;AACA;AACA,MAAA,KAAA;AACA,MAAA,WAAA,GAAA;AAAA,IAAA,KAAA,EAAA,KAAA;AAAA,IAAA,KAAA,EAAA;AAAA,MAAA,KAAA,EAAA,IAAA;AAAA,MAAA,MAAA,EAAA;AAAA;AAAA,GAAA;AAGA,EAAA,SAAA,CAAA,YAAA,CAAA,YAAA,CAAA,WAAA,EACA,IADA,CACA,UAAA,WAAA,EAAA;AACA,IAAA,KAAA,GAAA,QAAA,CAAA,aAAA,CAAA,OAAA,CAAA;AACA,IAAA,KAAA,CAAA,SAAA,GAAA,WAAA;;AACA,IAAA,KAAA,CAAA,gBAAA,GAAA,YAAA;AACA,MAAA,KAAA,CAAA,IAAA;AACA,KAFA;;AAGA,IAAA,KAAA,CAAA,gBAAA,CAAA,MAAA,EAAA,YAAA;AACA,UAAA,MAAA,GAAA,OAAA,CAAA,qBAAA,CAAA,KAAA,CAAA;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,EAFA,CAGA;;AACA,UAAA,WAAA,GAAA;AAAA,QAAA,KAAA,EAAA,MAAA;AAAA,QAAA,MAAA,EAAA;AAAA,OAAA;AACA,MAAA,OAAA,CAAA,eAAA,CAAA,MAAA,EAAA,WAAA;AACA,MAAA,WAAA,CAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDACA,OAAA,CAAA,cAAA,CAAA,KAAA,EAAA,IAAA,OAAA,CAAA,uBAAA,EAAA,EAAA,iBAAA,GAAA,mBAAA,EADA;;AAAA;AACA,gBAAA,UADA;AAEA,gBAAA,iBAFA,GAEA,OAAA,CAAA,aAAA,CAAA,UAAA,EAAA,WAAA,CAFA;AAGA,gBAAA,MAAA,CAAA,UAAA,CAAA,IAAA,EAAA,SAAA,CAAA,CAAA,EAAA,CAAA,EAAA,MAAA,CAAA,KAAA,EAAA,MAAA,CAAA,MAAA;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,cAAA,CAAA,MAAA,EAAA,iBAAA;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,iBAAA,CAAA,MAAA,EAAA,iBAAA;AACA,gBAAA,OAAA,CAAA,IAAA,CAAA,mBAAA,CAAA,MAAA,EAAA,iBAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA,EAOA,GAPA,CAAA;AAQA,KAdA;AAeA,GAtBA,EAuBA,KAvBA,CAuBA,UAAA,GAAA,EAAA;AAAA,IAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,IAAA,GAAA,IAAA,GAAA,GAAA,CAAA,OAAA;AAAA,GAvBA;AAwBA","sourcesContent":["<template>\n    <div>\n        <video muted id=\"video\" width=\"100%\" height=\"100%\" autoplay></video>\n        <canvas id=\"frame\" width=\"640\" height=\"480\"></canvas>\n    </div>\n</template>\n\n<script>\n    /* eslint-disable no-console */\n    export default {\n        name: 'Enrollment'\n    }\n    // Prefer camera resolution nearest to 1280x720.\n    //import * as faceapi from \"../assets/face-api.min\";\n\n    // implements nodejs wrappers for HTMLCanvasElement, HTMLImageElement, ImageData\n    //import * as canvas from 'canvas';\n\n    import * as faceapi from 'face-api.js';\n\n    // patch nodejs environment, we need to provide an implementation of\n    // HTMLCanvasElement and HTMLImageElement, additionally an implementation\n    // of ImageData is required, in case you want to use the MTCNN\n    //const { Canvas, Image, ImageData } = canvas\n    //faceapi.env.monkeyPatch({ Canvas, Image, ImageData })\n\n    Promise.all([\n        faceapi.nets.tinyFaceDetector.loadFromUri('/models'),\n        faceapi.nets.faceLandmark68Net.loadFromUri('/models'),\n        faceapi.nets.faceRecognitionNet.loadFromUri('/models'),\n        faceapi.nets.faceExpressionNet.loadFromUri('/models')\n    ]).then(startLiveVideo);\n\n\n    function startLiveVideo() {\n        // Prefer camera resolution nearest to 1280x720.\n        var video;\n        var constraints = { audio: false, video: { width: 1280, height: 720 } };\n\n\n        navigator.mediaDevices.getUserMedia(constraints)\n            .then(function(mediaStream) {\n                video = document.querySelector('video');\n                video.srcObject = mediaStream;\n                video.onloadedmetadata = function() {\n                    video.play();\n                };\n                video.addEventListener('play', () => {\n                    const canvas = faceapi.createCanvasFromMedia(video);\n                    document.body.append(canvas);\n                    //NEED TO FIGURE OUT DYNAMIC HEIGHT AND WIDTH\n                    const displaySize = { width: \"1280\", height: \"720\" };\n                    faceapi.matchDimensions(canvas, displaySize);\n                    setInterval(async () => {\n                        const detections = await faceapi.detectAllFaces(video, new faceapi.TinyFaceDetectorOptions()).withFaceLandmarks().withFaceExpressions();\n                        const resizedDetections = faceapi.resizeResults(detections, displaySize);\n                        canvas.getContext('2d').clearRect(0, 0, canvas.width, canvas.height);\n                        faceapi.draw.drawDetections(canvas, resizedDetections);\n                        faceapi.draw.drawFaceLandmarks(canvas, resizedDetections);\n                        faceapi.draw.drawFaceExpressions(canvas, resizedDetections);\n                    }, 300)\n                });\n            })\n            .catch(function(err) { console.log(err.name + \": \" + err.message); });\n    }\n\n</script>\n\n<style scoped>\n    body {\n        margin: 0;\n        padding: 0;\n        /*width: 100vw;*/\n        /*height: 100vh;*/\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    canvas {\n        position: absolute;\n    }\n</style>\n"],"sourceRoot":"src/components"}]}